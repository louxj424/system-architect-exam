# 2020年上半年系统架构师考试-案例分析真题（题目版）

> 写在前面：一共5道题，每道题满分25分，要求5选3，满分75分，建议第1题和第2题必选，剩下三题选1题会的，慎选嵌入式题。

## 第一题：软件架构设计与评估

### 题目背景：
【材料1】

阅读以下关于软件架构设计与评估的叙述，在答题纸上回答问题1和问题2。

【说明】某公司拟开发一套在线软件开发系统，支持用户通过浏览器在线进行软件开发活动。该系统的重要功能包括代码编辑、语法高亮显示、代码编译、系统调试、代码仓库管理等。在需求分析与架构设计阶段，公司提出的需求和质量属性描述如下：

a)根据用户的付费情况对用户进行分类，并根据类别提供相应的开发功能；
b)在正常负载情况下，系统应该在0.2s内对用户的界面操作请求进行响应；
c)系统应该具备完善的安全防护措施，能够对黑客的攻击行为进行检测和防御；
d)系统主站点断电后，应在3s内将请求路由到备用站点；
e)系统支持中文版本，但用户名必须以英文开头，长度不少于5个字符；
f)系统有机器，需要在15s内发现错误并启用备用系统；
g)在正常负载情况下，用户的代码提交请求应在0.5s内完成；
h)系统支持硬件设备录活扩展，应保证在2人天内完成所有的部署与测试工作；
i)系统需要针对代码仓库的所有操作进行详细记录，便于后期审查与审计；
j)更改系统web界面风格需要在4人天内完成；
k)系统本身需要提供远程通讯接口，支持开发团队进行远程排错。

在对系统需求、质量属性和架构特性进行分析的基础上，该公司的系统架构师给出了两种候选的架构设计方案，公司目前正在组织相关专家对候选系统架构进行评估。

### 问题

#### 【问题1】架构风格对比分析（13分）

(13分)针对该系统的功能，李工建议采用管道过滤器(pipe and filter)的架构风格，而王工则建议采用仓库(repository)架构风格。请指出该系统更适合采用哪种架构风格，并针对系统的主要功能、从数据处理方式、系统的可扩展性和处理性能三个方面对这两种架构风格进行比较与分析，填写表1-1中的(1)-(4)空白处。

**表1-1 两种架构风格的比较与分析**

| 架构风格名称 | 数据处理方式 | 系统扩展方式 | 处理性能 |
|-------------|-------------|-------------|----------|
| 管道过滤器 | 数据按照流形式，处理成序列 | __(1)__ | 方便，需要数据按流式处理，可能影响性能 |
| 仓库 | __(2)__ | 数据按需定期输出，可以高度并行处理 | 性能：__(3)__ 优势：__(4)__ |

**管道过滤器（pipe and filter）架构风格是一种将系统功能划分为一系列独立的处理步骤（过滤器），每个过滤器通过管道连接，数据依次经过各个过滤器进行处理的设计模式。每个过滤器负责特定的数据处理任务，且各个过滤器之间互相独立，可以并行处理数据，提高系统的灵活性，可维护性和可扩展性。**

**仓库（repository）架构风格则是一种将数据存储和数据访问逻辑封装在仓库中的设计模式。仓库充当数据的中介，负责管理数据的存储、检索和更新，提供统一的接口供其他组件访问数据，实现数据的集中管理和封装，有利于提高数据的一致性可维护性。**

**答案：**
应该采用____架构风格。

(1) _______________
(2) _______________
(3) _______________
(4) _______________

#### 【问题2】质量属性效用树分析（12分）

(12分)在架构评估过程中，质量属性效用树(utility tree)是对系统质量属性进行识别和优先级排序的重要工具。请将合适的质量属性名称填入图1-1中的(1)、(2)空白处，并选择题干中描述的(a)-(k)填入(3)-(6)空白处，完成该系统的效用树。

![质量属性效用树](./img/utility_tree.png)

**在架构评估过程中，质量效用树，默认有4个质量属性，分别为：性能、可用性、安全性和可修改性，这3个条件目标一般不直接给出，需要同学掌握这个知识背景。**

(1) _______________
(2) _______________
(3) _______________
(4) _______________
(5) _______________
(6) _______________

---

## 第二题：包裹单信息管理系统

### 题目背景：
【材料2】

阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。

【说明】某企业委托软件公司开发一套包裹信息管理系统，为企业通过快递收发的包裹信息进行统一管理。在系统设计阶段，需要对不同的信息的包裹单信息进行建模，其中，邮政包裹单如图2-1所示：

![包裹单示意图](./img/package_slip.png)

### 问题

#### 【问题1】逻辑数据库设计分析（14分）
请说明关系型数据库开发中，逻辑数据库设计过程包含哪些任务？该包裹单的逻辑数据库模型中应该包含哪些实体？并描述每个关系模式的主键属性。


**答案：**
（请在此处作答）

#### 【问题2】超类实体设计分析（6分）
请说明什么是超类实体？结合图包裹单信息，试设计一种超类实体，给出完整的属性列表。

**答案：**
（请在此处作答）

#### 【问题3】数据库完整性约束（5分）
请分析该包裹单信息管理系统中需要设置的完整性约束。

**答案：**
（请在此处作答）

---

## 第三题：嵌入式软件架构设计

### 题目背景：
【材料3】

阅读以下关于开放式嵌入式软件架构设计的相关描述，回答问题1至问题3。

随着航空工业的快速发展，航空电子技术发展的需要，公司的业务急剧增加，研制的软件架构已过在维护。公司架构师王工广泛调研了多种现代架构的基础，建议采用基于FACE (Future Airborne Capability Environment)的宇航系统开放式软件架构，以实现宇航系统的跨平台复用，实现宇航软件高质量、低成本的开发。公司领导指定了王工的提案，并指出公司要全面实施基于FACE的开放式软件架构，应注意每个具体项目在实施中如何有效实现从需求到架构设计的关系，掌握基于软件需求的软件架构设计方法，并做好开放式软件架构中各段间的接口标准化设计工作。

### 问题

#### 【问题1】软件需求分析（9分）
王工指出，软件开发中需求分析是根本，架构设计是核心，不善需软件需求便进行软件架构设计可能导致架构设计的失败，因此，如何准确地把握软件需求，满足用户的需求至关重要。请从相关语言、非功能性需求描述、需求和架构的一致性等三个方面，用300字以内的文字说明软件需求建模的映射存在哪些难点。


**答案：**
（请在此处作答）

#### 【问题2】FACE架构分析（10分）
图3-1是王工给出的FACE架构布局，包括操作系统、I/O服务、平台服务、传输服务和可移植组件等5个段;操作系统、I/O和传输等3个标准接口。请分析图3-1给出的FACE架构的相关信息，用300字以内的文字简要说明FACE5个段的含义如下：

![FACE架构图](./img/face_architecture.png)

**答案：**
（请在此处作答）

#### 【问题3】应用程序紧耦合问题分析（6分）
FACE架构的核心能力是可支持应用程序的跨平台执行和可移植性，要达到可移植能力，必须解决应用程序的紧耦合和封装的障碍，请用200字以内的文字简要说明在可移植性上，应用程序的紧耦合和封装问题的主要表现形式是什么，并给出解决方案。


**答案：**
（请在此处作答）

---

## 第四题：数据库缓存设计

### 题目背景：
【材料4】

阅读以下关于数据库缓存的叙述，在答题纸上回答问题1至问题3。

【说明】某互联网文化娱乐公司业务发展，需要建立网上社区平台，为用户提供一个对网络文化产品(如互联网小说、电影、漫画等)进行评论、交流的平台。该平台的部分功能如下：

(a)用户贴子的评论计数；
(b)支持粉丝列表功能；
(c)支持标签管理；
(d)支持共同好友功能等；
(e)提供排名功能，如当天最热前10名贴子排名、热搜榜前5排名等；
(f)用户信息的结构化存储；
(g)提供好友信息的发布/订阅功能。

该系统在性能上需要考虑高性能、高并发，以支持大量用户的同时访问，开发团队经过综合考虑，在数据管理上决定采用Redis缓存+数据库(缓存+数据库)的解决方案。


### 问题


#### 【问题1】Redis数据类型分析（10分）
Redis支持丰富的数据类型，并能够提供一些常见功能需求的解决方案。请选择题述的(a)-(g)功能选项，填入表4-1中(1)-(5)的空白处。

**表4-1 Redis数据类型与业务功能对照表**

| 数据类型 | 存储内容 | 可实现的业务功能 |
|---------|---------|----------------|
| STRING | 字符串、数值等字符串 | (1) |
| LIST | 列表 | (2) |
| SET | 无序集合 | (3) |
| HASH | 包括键值对的无序散列表 | (4) |
| ZSET | 有序集合 | (5) |

**答案：**
（请在此处作答）


#### 【问题2】Redis持久化方案分析（7分）
该网上社区平台需要为用户提供7×24小时的不间断服务，同时在系统出现宕机等故障时，能在最短时间内通过重启等方式重新建立服务。为此，开发团队选择了Redis持久化支持。Redis有两种持久化方式，分别是RDB(Redis DataBase)持久化方式和AOF(Append OnlyFile)持久化方式，开发团队最终选择了RDB方式。请用200字以内的文字，从磁盘更新频率、数据安全、数据一致性、重启性能和数据文件大小五个方面比较两种方式，并简要说明开发团队选择RDB的原因。


**答案：**
（请在此处作答）

#### 【问题3】Redis缓存淘汰策略分析（8分）

缓存中存储当前的热点数据，Redis为每个KEY值都设置了过期时间，以提高缓存命中率，为了清除非热点数据，Redis选择"定期删除+惰性删除"策略。如果该策略失效，Redis内存使用率会超来越高，一般应采用内存淘汰机制来解决，请用100字以内的文字简要描述该策略的失效场景，并给出三种内存淘汰机制。


**答案：**
（请在此处作答）

---

## 第五题：Web系统架构设计

### 题目背景：
【材料5】

阅读以下关于Web系统设计的叙述，在答题纸上回答问题1至问题3。

【说明】某银行拟开发一套Web银行信息系统，基于面向服务的架构（SOA），实现统一的用户账户管理、转账汇款、自助缴费、理财投资、贷款管理、网上支付、财务报表分析等业务功能。但是，由于原有以分行为主体的银行信息系统中，多个业务系统采用异构平台、数据库和中间件，使用的报文交换标准和通信协议也不尽相同，使用传统的EAI解决方案根本无法实现新的业务模式下异构系统间灵活的交互和集成。因此，为了以最小的系统改造整合现有的基于不同技术实现的银行业务系统，该银行决定采用基于ESB的面向服务架构（SOA）集成方案实现业务整合。

### 问题

#### 【问题1】SOA架构特点分析（6分）

(6分)请分别用200字以内的文字说明什么是面向服务架构（SOA）以及ESB在SOA中的作用与特点。

**答案：**
（请在此处作答）

#### 【问题2】银行系统架构设计（14分）

(14分)基于该信息系统整合的实际需求，项目组完成了基于SOA的银行信息系统架构设计方案。该系统架构如图5-1所示：

![银行系统架构图](./img/bank_system_architecture.png)

请从 (a) ~ (j) 中选择相应内容填入图5-1的 (1) ~ (6)，补充完整架构设计图。

**(a) 数据层**
**(b) 界面层**
**(c) 业务层**
**(d) bind**
**(e) 企业服务总线ESB**
**(f) XML**
**(g) 安全验证和质量管理**
**(h) publish**
**(i) UDDI**
**(j) 组件层**
**(k) BPEL**

**答案：**
（请在此处作答）

#### 【问题3】银行系统安全保障分析（5分）

(5分)针对银行信息系统的数据交互安全性需求，列举3种可实现信息系统安全保障的措施。

**答案：**
（请在此处作答）